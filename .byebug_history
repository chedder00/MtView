c
@item.quantity
n
update_existing?
c
self.errors
self
c
@order.items
@order
c
n
order?
c
order?
@order_number
c
self
params
@order_number
order?
c
n
self.quantity * self.purchase_price_cents
self.purchase_price_cents
self.quantity
c
n
@task_number
c
@task_number
order?
self
c
params
c
@order_number
@task_number
self
c
@task_number
self
c
self.error.nil?
self.errors.any?
exists?
!item_return?
self.valid?
self
update_existing?
c
update_existing?
c
@item
c
@item
c
flash
@item
c
@item
c
valid_quantity?
valid_quantity?("10000")
self.valid?
exists?
!item_return?
c
valid_quantity?
c
n
!item_return? && exists?
n
!exists?
valid_quantity?
c
send_back
@item
c
n
!exists?
valid_quantity?
c
n
exists?
c
n
valid_quantity?
c
self.valid?
s
n
!item_return? && exists?
exists?
c
n
self.errors
n
self.inventory_item.quantity
@check_value.to_i
n
exists?
self.valid?
@item.valid?
exists?
valid_quantity?
self
c
n
@itm
n
c
s
n
order?
!exists?
item_return?
valid_quantity?
c
@order_number
order?
!exists?
valid_quantity?
c
self.inventory_item.quantity
self.inventory_item
InventoryItem.first
valid_quantity?
@check_value
c
@item
c
@item
c
@item
c
!exists?
c
@item
n
@check_value.to_i <= self.inventory_item.quantity
n
c
@check_value
n
c
@item
n
c
flash
c
@item
c
@item
self
@item
c
n
c
n
c
self.quantity
self.return_quantity
c
n
@check_value
self.quantity >= @check_value.to_i
n
c
n
self.quantity >= @check_value.to_i
@return_quantity
self
c
@check_value
c
@check_value
self.quantity >= @check_value.to_i
self.quantity <= @check_value.to_i
self.quantity
self.quantity >= @check_value.to_i
n
item_return?
n
c
item_return?
@return_quantity
n
self
item
c
n
self.valid?
c
n
self
qty
c
self
c
n
c
n
c
n
qty
c
n
qty
c
@return_quantity
qty
self.quantity
self
qty
c
delete 1
c
n
c
n
c
n
self.quantity
c
n
self.quantity >= @return_quantity.to_i
self.quantity
c
b Item#valid_return?
n
qty
c
n
c
n
qty
continue
qty
c
n
@return_quantity
c
params
c
params
self.return_quantity
@return_quantity
self.quantity
c
@item
c
@item
c
flash
@item.valid?
